!function(){"use strict";const e=(e,{wait:t="raf",immediate:n=!1}={})=>{const i="raf"===t;if(!i&&"number"!=typeof t)return;let o;return function(){let r=this,a=arguments;const c=()=>{o=null,n||e.apply(r,a)},s=n&&!o;o&&(i?window.cancelAnimationFrame(o):clearTimeout(o)),o=i?window.requestAnimationFrame(()=>e.apply(r,a)):setTimeout(c,t),s&&e.apply(r,a)}};var t={exports:{}};!function(e){function t(){this.listeners={}}t.prototype={on:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({fn:t,scope:n||null})},off:function(e,t){if(!this.listeners[e])return!1;t||(this.listeners[e]=[]);for(var n=this.listeners[e].length;n--;)this.listeners[e][n].fn===t&&this.listeners[e].splice(n,1);return this.listeners[e].length||(this.listeners[e]=null),!0},emit:function(e){for(var t=this.listeners[e]||[],n=[].slice.call(arguments,1),i=0;t[i];++i)t[i].fn.apply(t[i].scope,n)}},e.exports=t}(t);var n=t.exports,i={exports:{}};!function(e){var t=function(e){var t={},n={},i={},o={},r=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a=function(e){var t=e.split(".");return{ev:t[0],ns:t[1]||null}},c=function(e,t){for(var n=[],i=0;e[i];++i)t(e[i])||n.push(e[i]);return n},s=function(t,r,c){var s=a(t),l=s.ev,u=s.ns;i[l]||(o[l]=function(e){d.notify(l,e)},e.addEventListener(l,o[l],!1),i[l]=!0),n[l]||(n[l]=[]),n[l].push({fn:r,ns:u,scope:c||null})},l=function(e,t){var i=a(e),o=i.ev,r=i.ns;return!!n[o]&&(n[o]=r&&t?c(n[o],(function(e){return e.ns===r&&e.fn===t})):r?c(n[o],(function(e){return e.ns===r})):t?c(n[o],(function(e){return e.fn===t})):[],!n[o].length>0&&(n[o]=null),!0)},u=function(t,n,i){e.requestAnimationFrame((function(){n.call(i||null,{type:t})}))},d={on:function(t,n,i){for(var o=t.split(/\s+/),r=0;o[r];++r)"complete"===e.document.readyState&&o[r].match(/^load(\.|$)/)?u("load",n,i):s(o[r],n,i)},off:function(e,t){for(var n=e.split(/\s+/),i=0,o=0;n[o];++o)i+=l(n[o],t)?1:0;return i},reset:function(){var a;for(a in i)r(i,a)&&e.removeEventListener(a,o[a],!1);for(a in t)r(t,a)&&t[a]&&e.cancelAnimationFrame(t[a]);n={},t={},i={},o={}},notify:function(i,o){!t[i]&&n[i]&&(t[i]=e.requestAnimationFrame((function(){!function(e,t){for(var i=n[e]||[],o=0;i[o];++o)i[o].fn.call(i[o].scope,t)}(i,o),t[i]=!1})))}};return function(){return d}}(window);e.exports=t}(i);var o=i.exports;var r=()=>{var e,t,n=!1,i=!1,o=0;function r(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))}function a(e){var t,n;this.html=e.querySelector("a")?(t=e.innerHTML,(n=document.createElement("div")).innerHTML=t,r(n,"a").forEach((function(e){var t=document.createElement("span");-1!==e.href.indexOf("#Fn")&&t.classList.add("u-visually-hidden"),t.innerHTML=e.innerHTML,e.parentNode.replaceChild(t,e)})),n.innerHTML):e.innerHTML,this.text=e.textContent.replace(/[^a-z0-9\s]/gi,""),this.id=e.id}function c(e,t){var n=e.querySelector(".c-article-supplementary__title a");n?(this.id=e.id,this.caption=n.innerHTML,this.link=n.href,this.images=[this.placeholderFor(n,t)]):(this.id=(e.querySelector(".c-article-section__figure-caption")||{id:null}).id,this.caption=(e.querySelector("figcaption > b")||{innerHTML:"Figure"}).innerHTML,this.link=(e.querySelector(".c-article__pill-button")||{href:null}).href,this.images=this.findImages(e,t))}function s(e){var t=e.querySelector(".c-article-references__text");this.id=t.id,this.num=e.parentElement.querySelector(".c-article-references__item").dataset.counter||"",this.citation=t.innerHTML,this.links=this.findLinks(e)}function l(e){this.href=e.href,this.text=e.textContent,this.label=e.getAttribute("data-track-label")||"link",this.action=this.text.trim().toLowerCase()}function u(e){return document.getElementById("rc-sec-"+e)}function d(e,t){var n="c-reading-companion--highlighted";t&&(p(e),t.setAttribute("tabindex","-1"),t.focus(),t.classList.add(n),t.addEventListener("animationend",(function e(){t.classList.remove(n),t.removeEventListener("animationend",e)})),t.scrollIntoView({block:"start"}))}function p(t,n){var i,o,a,c=e.querySelector(".c-reading-companion__"+t),s=e.querySelector(".c-reading-companion__panel--active");c&&s&&(i=c.querySelector("img[data-src]"),o=e.querySelector("button[aria-controls="+c.id+"]"),i&&r(c,"picture").forEach((function(e){var t=e.querySelector("source"),n=e.querySelector("img");t.srcset=t.getAttribute("data-srcset"),t.removeAttribute("data-srcset"),n.src=n.getAttribute("data-src"),n.removeAttribute("data-src")})),s&&((a=e.querySelector("button[aria-controls="+s.id+"]")).setAttribute("aria-selected","false"),a.setAttribute("tabindex","-1"),a.classList.remove("c-reading-companion__tab--active"),s.classList.remove("c-reading-companion__panel--active"),s.removeAttribute("tabindex")),o.setAttribute("aria-selected","true"),o.removeAttribute("tabindex"),o.classList.add("c-reading-companion__tab--active"),c.classList.add("c-reading-companion__panel--active"),n&&n.focus&&o.focus(),window.requestAnimationFrame(h))}function m(){const n=e.querySelector(".c-reading-companion__panel--active"),r=n.querySelector(".c-reading-companion__scroll-pane"),a=n.querySelector("[data-component-mpu]"),c=a?function(e){const t=e.offsetHeight,n=window.getComputedStyle(e);return["top","bottom"].map(e=>parseInt(n["margin-"+e],10)).reduce((e,t)=>e+t,t)}(a):0,s=t?o+(t.offsetHeight+8):o,l=r.getBoundingClientRect().top+o+c,u=r.offsetTop+s+c,d=window.innerHeight<=560;return!1===i&&l>=420&&a?"auto":window.innerHeight>l&&window.innerHeight-l>=300||i||d?l:u}function f(){const t=e.querySelector(".c-reading-companion__panel--active").querySelector(".c-reading-companion__scroll-pane"),n=m();t.style.maxHeight="auto"!==n?window.innerHeight-n+"px":"none"}function h(){var n=document.querySelector("div[data-component=article-container]"),r=t?o+(t.offsetHeight+8):o,a=e.parentNode.getBoundingClientRect().top<=r,c=e.offsetHeight,s=n.getBoundingClientRect().bottom-document.documentElement.clientTop-(c+r),l="c-reading-companion__sticky--stuck",u=e.classList;i=u.contains(l);const d=e.getBoundingClientRect().width>0;!i&&a&&d?(u.add(l),i=!0):i&&!a&&d&&(u.remove(l),i=!1),i&&d&&(e.style.width=e.parentNode.getBoundingClientRect().width+"px"),s<=0?e.style.top=s+r+"px":(e.style.top=r+"px",f())}function b(n,i){if(!e.querySelector(".c-reading-companion__sections-list"))return;const a=e.querySelector(".c-reading-companion__sections-list").parentNode;i.on("nav.section",(function(e,t){var n,i,o,r,c,s,l,d,p=t&&u(t),m=e&&u(e);p&&p.classList.remove("c-reading-companion__section-item--active"),m&&(m.classList.add("c-reading-companion__section-item--active"),n=m,o=(i=a).clientHeight,r=i.scrollTop+i.offsetTop,c=r+o,s=o/4,l=n.offsetTop,d=l+n.clientHeight,l<r?i.scrollTop-=r-l+s:d>c&&(i.scrollTop+=d-c+s))})),i.on("nav.figure",(function(e){d("figures",function(e){return document.getElementById("rc-"+e)}(e))})),i.on("nav.reference",(function(e,t){var n=function(e){return document.getElementById("rc-"+e)}(e);t&&function(e,t){var n=e.querySelector(".c-reading-companion__return");n&&n.parentNode.removeChild(n),(n=document.createElement("a")).href="#"+t.id,n.appendChild(document.createTextNode("Return to ref "+t.textContent+" in article")),n.className="c-reading-companion__return",n.addEventListener("click",(function(){n.parentNode.removeChild(n)})),e.appendChild(n)}(n,t),d("references",n)})),n.on("scroll resize orientationchange",h);const c=t?o+(t.offsetHeight+8):o;window.pageYOffset>c&&window.requestAnimationFrame(h);const s=e.querySelector(".c-reading-companion__tabs");s&&(s.addEventListener("keydown",(function(t){var n,i=document.activeElement.parentNode;37===t.keyCode?n=i.previousElementSibling||e.querySelector(".c-reading-companion__tabs > li:last-child"):39===t.keyCode&&(n=i.nextElementSibling||e.querySelector(".c-reading-companion__tabs > li:first-child")),n&&p(n.querySelector("[data-tab-target]").getAttribute("data-tab-target"),{focus:!0})}),!1),r(s,".c-reading-companion__tab").forEach((function(e){e.addEventListener("click",(function(e){p(e.target.getAttribute("data-tab-target"),{focus:!0})}),!1)})))}function v(e,t){e.insertAdjacentHTML("beforebegin",t)}function y(){var t=["sections","figures","references"].map((function(e){var t,n,i=document.querySelector(".c-reading-companion__"+e),o=function(e,t){var n={sections:function(e){var t=[];return e.forEach((function(e){t.push(new a(e))})),t.length>0?'<ul class="c-reading-companion__sections-list">'+t.map((function(e){return e.render()})).join("")+"</ul>":""},figures:function(e){var t=[];return e.forEach((function(e,n){var i=new c(e,n+1);i.id&&t.push(i)})),t.length?'<ul class="c-reading-companion__figures-list">'+t.map((function(e){return e.render()})).join("")+"</ul>":""},references:function(e){var t=[];return e.forEach((function(e){t.push(new s(e))})),t.length?'<ol class="c-reading-companion__references-list'+(t[0].num?" c-reading-companion__references-list--numeric":"")+'">'+t.map((function(e){return e.render()})).join("")+"</ol>":""}};return n[e]?n[e](t):""}(e,r(document,".js-c-reading-companion-"+e+"-item")),l=(t=e,n=e.charAt(0).toUpperCase()+e.substring(1),'<li role="presentation"><button data-tab-target="'+t+'" role="tab" id="tab-'+t+'" aria-controls="tabpanel-'+t+'" aria-selected="false" tabindex="-1" class="c-reading-companion__tab" data-track="click" data-track-action="'+t+' tab" data-track-label="tab">'+n+"</button></li>");return o&&i?(i.setAttribute("aria-labelledby","tab-"+e),i.setAttribute("role","tabpanel"),function(e,t){e.insertAdjacentHTML("afterbegin",t)}(i,'<div class="c-reading-companion__scroll-pane">'+o+"</div>")):i&&i.parentNode.removeChild(i),!(!o||!i)&&l})).filter((function(e){return Boolean(e)})),n=e.querySelector(".c-reading-companion__panel"),i=t.length;return i>1?v(n,function(e){return'<ul class="c-reading-companion__tabs" role="tablist">'+e.join("")+"</ul>"}(t)):1===i&&v(n,'<h3 class="c-reading-companion__heading u-font-family-sans">Sections</h3>'),i}return a.prototype.render=function(){return'<li id="rc-sec-'+this.id+'" class="c-reading-companion__section-item"><a href="#'+this.id+'" data-track="click" data-track-action="section anchor" data-track-label="link:'+this.text.replace(/(^\d+)/g,"")+'">'+this.html+"</a></li>"},c.prototype={findImages:function(e,t){var n=[],i=this;return r(e,"picture > img").forEach((function(e){n.push(i.placeholderFor(e,t))})),n},placeholderFor:function(e,t){var n=e.getAttribute("data-supp-info-image")||e.src,i=e.alt||"extended data figure "+t,o="rc-"+this.id,r=-1===n.indexOf("?")?"?":"&";return["<picture>",'<source type="image/webp" data-srcset="'+n+r+'as=webp">','<img data-src="'+n+'" alt="'+i+'" aria-describedby="'+o+'"/>',"</picture>"].join("")},render:function(){return['<li class="c-reading-companion__figure-item">',"<figure>",'<figcaption><b class="c-reading-companion__figure-title u-h4" id="rc-'+this.id+'">'+this.caption+"</b></figcaption>",this.images.join(""),this.link||this.id?'<p class="c-reading-companion__figure-links">':"",this.id&&n?'<a href="#'+this.id+'" data-track="click" data-track-action="figure anchor" data-track-label="link">View in article</a>':"",this.link&&n?'<a href="'+this.link+'" class="c-reading-companion__figure-full-link" data-track="click" data-track-action="view figure" data-track-label="link" rel="nofollow">Full size image<svg width="16" height="16" class="u-icon"><use href="#icon-chevron-right"/></svg></a>':"",this.link||this.id?"</p>":"","</figure>","</li>"].join("")}},s.prototype.findLinks=function(e){var t=[];return r(e,".c-article-references__links a").forEach((function(e){t.push(new l(e))})),t},s.prototype.render=function(){return['<li class="c-reading-companion__reference-item">','<p class="c-reading-companion__reference-citation u-font-family-serif" id="rc-'+this.id+'">'+this.citation+"</p>",this.links.length>0?'<p class="c-reading-companion__reference-links">'+this.links.map((function(e){return e.render()})).join("")+"</p>":"","</li>"].join("")},l.prototype.render=function(){return'<a href="'+this.href+'" data-track="click" data-track-action="'+this.action+' reference" data-track-label="'+this.label+'">'+this.text+"</a>&nbsp;"},{init:function(i,r,a){n=Boolean(i.access),o=i.offset||0;var c=!1,s=function(n){!function(n){if(!c&&!n.matches&&(e=document.querySelector("[data-component=reading-companion-sticky]"))){t=document.querySelector("[data-context-bar]");var i=y();0!==i&&(b(r,a),i>1&&p("sections"),f(),c=!0)}}(n),a.emit("rc.display",!n.matches&&c)},l=window.matchMedia(i.matchMediaQuery||"(max-width: 1023px)");l.addListener(s),s(l)}}};var a={exports:{}};a.exports=function(){function e(e){return e.querySelector(".js-expandable-title").id}function t(e,t){var n=e.querySelector("[data-expandable-box]"),i=e.querySelector("[data-expandable-label]");e.querySelectorAll("a[href]").forEach((function(e){e.setAttribute("tabIndex","0")})),t&&(n.setAttribute("tabIndex","-1"),n.focus()),n.parentNode.classList.add("c-article-box--expanded"),n.style.height="auto",n.removeAttribute("aria-hidden"),i.parentNode.setAttribute("aria-expanded","true"),i.textContent="Show less",e.isOpen=!0}function n(e,t){var n=e.querySelector("[data-expandable-box]"),i=e.querySelector("[data-expandable-label]");e.querySelectorAll("a[href]").forEach((function(e){e.setAttribute("tabIndex","-1")})),n.parentNode.classList.remove("c-article-box--expanded"),n.style.height="95px",n.setAttribute("aria-hidden","true"),i.parentNode.setAttribute("aria-expanded","false"),i.textContent="Show more",t&&n.scrollIntoView(),e.isOpen=!1}return{init:function(i){(i||[]).forEach((function(i){var o=['<div class="c-article-box__controls">','<div class="c-article-box__fade"></div>','<button aria-expanded="false" aria-describedby="'+e(i)+'"><span class="c-article-box__button-text" data-expandable-label></span></button>',"</div>"].join("");i.insertAdjacentHTML("beforeend",o),n(i),i.querySelector("button").addEventListener("click",(function(){!function(e){e.isOpen?n(e,!0):t(e,!0)}(i)}),!1)})),window.addEventListener("hashchange",(function(){var e=location.hash?document.querySelector(location.hash):null,n=e&&e.closest("[data-expandable-box]");n&&t(n.parentNode)}))}}};var c=a.exports,s={exports:{}};!function(e){var t=function(e,t){return function(){var n=null,i=[],o=null,r=0,a=null,c=!1,s=null;function l(){return s?r+(s.offsetHeight+8):r}function u(){e.addEventListener("scroll",(function t(){e.removeEventListener("scroll",t),setTimeout((function(){e.scrollBy(0,-1*l())}),1)}),!1)}function d(){var r=e.innerHeight,a=t.documentElement.clientTop,c=null,s=function(e){return e.getBoundingClientRect().top-a},u=l();i.forEach((function(e){if(s(e)<=u+r/2)if(c){var n=t.getElementById(c);s(n)<=u-n.offsetHeight&&(c=e.id)}else c=e.id})),c!==o&&(n.emit("nav.section",c,o),o=c)}function p(i){var o=null;if(i.target&&i.target.closest&&(o=i.target.closest("a")),o&&o.hash&&(!a||!o.closest(a))&&o.pathname===e.location.pathname){var r=function(e){var t=e.hash;if(!t||function(e){return Boolean(e.closest(".c-reading-companion"))}(e))return!1;return t.match(/#(Fig|f|sf)\d+/)}(o),s=!r&&function(e){var n=e.hash;if(!n)return!1;var i=t.querySelector('div[data-container-section="references"]');return i&&Boolean(i.querySelector(n))}(o),l=o.hash.slice(1),d=t.getElementById(l);if(c&&(r||s))return r?n.emit("nav.figure",l,o):s&&n.emit("nav.reference",l,o),void i.preventDefault();n.emit("nav.anchor",l,o),function(e){var t,n,i,o,r,a=function(t){return e.nodeName.toLowerCase()===t};e&&(t=e.hasAttribute("tabindex"),n=a("a")&&e.href,i=a("button"),o=a("input"),r=a("textarea"),(e.getAttribute("disabled")||!(t||n||i||o||r))&&e.setAttribute("tabindex","-1"),e.focus())}(d),u()}}return{init:function(o,l,m){s=t.querySelector("[data-context-bar]"),i=t.querySelectorAll(".js-section-title"),r=o.offset||0,a=o.exclude||"js-no-scroll",(n=m).on("rc.display",(function(e){c=e})),l.on("scroll resize orientationchange",d),t.body.addEventListener("click",p,!1),e.location.hash&&u()}}}}(window,document);e.exports=t}(s);var l=s.exports,u={exports:{}};!function(e){e.exports=function(){var e=null,t=null,n=!1,i=function(e){t=document.querySelector(".js-share-url"),o(e).then((function(e){e.url?(t.innerHTML=e.url,a("js-share-url-container"),s()):a("js-no-share-url-container")})).catch((function(){a("js-no-share-url-container")}))},o=function(e){return new Promise((function(t,n){var i=new XMLHttpRequest;i.addEventListener("load",(function(){i.readyState===i.DONE&&(200===i.status?t(JSON.parse(i.responseText)):n())})),i.open("GET",e),i.send()}))},r=function(e,t){var n=document.querySelector("."+e);n.classList.remove("u-display-none"),n.classList.add(t),n.removeAttribute("hidden")},a=function(t){e.classList.add("u-display-none"),e.setAttribute("hidden",""),r(t,"u-display-inline")},c=function(e){r(e,"u-display-block")},s=function(){document.querySelector(".js-copy-share-url").addEventListener("click",(function(){l(t),u(),document.execCommand("copy"),setTimeout(u,500)}))},l=function(e){var t=window.getSelection();e?t.selectAllChildren(e):t.removeAllRanges()},u=function(){n?(t.classList.remove("c-article-share-box__only-read-input--highlighted"),n=!1):(t.classList.add("c-article-share-box__only-read-input--highlighted"),n=!0)};return{init:function(t){var n,o=t&&t.doi?t.doi:"",r=(t&&t.url?t.url:"")+o;""!==r&&((n=document.querySelector('[data-component="share-box"]'))&&c("c-article-share-box"),Boolean(n))&&function(t){(e=document.querySelector(".js-get-share-url")).addEventListener("click",i.bind(this,t))}(r)}}}}(u);var d=u.exports,p={exports:{}};!function(e){e.exports=function(){return{init:function(){var e=document.querySelector(".c-book-show-more-less");function t(t,n,i){var o=document.createElement("span");o.textContent=" — ",o.setAttribute("aria-hidden","true");var r=document.createElement("button");r.setAttribute("aria-expanded",!1),r.setAttribute("id",i),r.appendChild(document.createTextNode(t)),r.className="u-link-like",n.insertAdjacentElement("beforeend",o),n.insertAdjacentElement("beforeend",r),r.addEventListener("click",(function(){!function(t){var n=document.querySelector("[id^="+t+"]"),i="true"===n.getAttribute("aria-expanded")||!1;n.getAttribute("data-text-expanded")?(n.textContent="show all",e.classList.add("c-book-show-more-less--collapsed"),n.removeAttribute("data-text-expanded","true"),"show-button-other-volumes"==n.id&&n.scrollIntoView({block:"center"})):(n.textContent="show less",e.classList.remove("c-book-show-more-less--collapsed"),n.setAttribute("data-text-expanded","true"));n.setAttribute("aria-expanded",!i),n.focus()}(i)}))}!function(){var e=document.querySelector('[data-component="data-unique-selling-points"]');document.querySelectorAll('[data-component="data-unique-selling-points"] li').length>4&&t("show all",e,"show-button-usp");var n=document.querySelector('[data-component="data-other-volumes"]');document.querySelectorAll('[data-component="data-other-volumes"] li').length>4&&t("show all",n,"show-button-other-volumes")}()}}}}(p);var m=p.exports,f={exports:{}};!function(e){const t=function(e){e.querySelectorAll(".u-js-hide").length&&e.insertAdjacentElement("afterend",function(e){const t=e.getAttribute("data-list-type")||"authors",n=document.createElement("button");return n.addEventListener("click",(function(){const i="false"===n.getAttribute("aria-expanded"),o=n.querySelector("use"),r=n.querySelector("span");n.setAttribute("aria-expanded",i?"true":"false"),o&&o.setAttribute("href",i?"#icon-minus":"#icon-plus"),r&&(r.textContent=i?"Show fewer "+t:"Show "+t),e.classList.toggle("c-book-author-list--expanded")}),!1),n.setAttribute("aria-expanded","false"),n.className="c-button-author-list",n.innerHTML='<svg aria-hidden="true" width="16" height="16" focusable="false" class="u-icon"><use href="#icon-plus"></use></svg><span>Show '+t+"</span>",n}(e))},n=function(e){for(let n=0;e[n];++n)t(e[n])};e.exports=function(){return{init:n}}}(f);var h=f.exports,b={exports:{}};!function(e){e.exports=function(){var e=document.querySelector('[data-component="cover-lightbox"]');return{init:function(){!function(){var t,n,i,o,r=document.querySelector('[data-component="cover-zoom"]');function a(){e.classList.contains("js-cover-image-lightbox--show")?e.classList.remove("js-cover-image-lightbox--show"):e.classList.add("js-cover-image-lightbox--show")}document.querySelector('[data-component="expand-icon"]').classList.remove("u-hide"),(t=document.createElement("img")).classList.add("c-cover-image-lightbox__image"),t.alt="Book cover",t.height="1200",t.width="800",e.insertAdjacentHTML("afterbegin","<button type='button' aria-label='Close expanded book cover' data-component='close-cover-lightbox' class='js-cover-image-lightbox--close'><span aria-hidden='true'>×</span></button>"),n=r.dataset.imgSrc,i=function(n){if(n){var i=document.createElement("picture"),o=document.createElement("source");t.src=r.dataset.imgSrc,o.type="image/webp",o.srcset=r.dataset.imgSrc+"?as=webp",i.appendChild(o),i.appendChild(t),e.appendChild(i)}else{var a=document.createElement("div"),c=r.dataset.imgSrc;c=(c=c.replace("cover-hires","cover")).concat(".jpg"),t.src=c,a.classList.add("c-cover-image-container"),a.insertAdjacentHTML("beforeend","<p class='c-cover-image-default'>No cover available.</p>"),a.appendChild(t),e.appendChild(a)}},(o=new Image).onload=function(){i(!0)},o.onerror=function(){i(!1)},o.src=n,r.addEventListener("click",(function(){event.preventDefault(),a()})),e.addEventListener("click",(function(){a()})),document.addEventListener("keydown",t=>{"Escape"===t.key&&e.classList.contains("js-cover-image-lightbox--show")&&a()})}()}}}}(b);var v=b.exports,y={exports:{}};!function(e){e.exports=function(){return{init:function(e,t,n){(e||[]).forEach((function(e){this.bindEvents(e,t,n)}),this)},bindEvents:function(e,t,n){var i=function(){var t,n;n="c-table-scroll-wrapper__fade",(t=e).scrollWidth-(t.scrollLeft+t.clientWidth)>0?(t.classList.add(n),t.classList.remove("c-table-scroll-wrapper__fade--transparent")):t.classList.add("c-table-scroll-wrapper__fade--transparent")};n.on("load resize",i),e.addEventListener("scroll",t(i,{wait:100}),!1)}}}}(y);var g=y.exports;const _={STICKY_FROM_SELECTOR:".js-context-bar-sticky-point-mobile",STICKY_FROM_DESKTOP_SELECTOR:".js-context-bar-sticky-point-desktop",COMPONENT_SELECTOR:"[data-context-bar]",HIDE_CLASS:"u-hide"};class w{constructor(e,t={}){this._options=Object.assign({},_,t),this._component=document.querySelector(this._options.COMPONENT_SELECTOR),document.querySelector(".app-article-masthead")&&(this._options.STICKY_FROM_SELECTOR=this._options.STICKY_FROM_DESKTOP_SELECTOR=".c-article-header"),e&&this._component&&(this._scheduler=e,this._stickyFrom=document.querySelector(this._options.STICKY_FROM_SELECTOR),this._stickyFromDesktop=document.querySelector(this._options.STICKY_FROM_DESKTOP_SELECTOR),(this._stickyFrom||this._stickyFromDesktop)&&(this._button=this._component.querySelector(".c-pdf-download"),this._stickyPoint=0,this._init(),window.pageYOffset>0&&this._update()))}_init(){this._scheduler.on("scroll orientationchange resize",this._update.bind(this))}_handleButton(){this._button?(this._addGAButtonTracking(),this._button.querySelector("a").setAttribute("tabindex","-1")):this._component.classList.add("c-context-bar--no-button")}_preventDisplayingSmallViewport(){return window.innerWidth<211}_update(){const e=window.matchMedia("(min-width: 1023px)").matches?this._stickyFromDesktop:this._stickyFrom;e&&(this._stickyPoint=e.offsetTop-8-window.pageYOffset,this._stickyPoint<=0&&this._handleButton(),this._toggleBanner())}_addGAButtonTracking(){this._button.querySelector("a").setAttribute("data-track-label","button sticky");const e=this._button.querySelector("a").getAttribute("href").split("?")[0];this._button.querySelector("a").setAttribute("href",e+"?pdf=button%20sticky")}_toggleBanner(){const e=this._preventDisplayingSmallViewport();this._stickyPoint>0&&!e&&window.forceDisplayContextBar?(this._component.classList.remove(this._options.HIDE_CLASS),this._component.classList.add("c-context-bar--sticky"),this._component.setAttribute("aria-hidden",!1)):this._stickyPoint<=0&&!e?(this._component.classList.remove(this._options.HIDE_CLASS),this._component.classList.add("c-context-bar--sticky"),this._component.setAttribute("aria-hidden",!1),window.forceDisplayContextBar=!1,window.displayContextBar=!0):(this._component.classList.add(this._options.HIDE_CLASS),this._component.classList.remove("c-context-bar--sticky"),this._component.setAttribute("aria-hidden",!0),window.displayContextBar=!1)}}var x={exports:{}};!function(e){function t(e){return e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}e.exports=function(){window.addEventListener("load",(function(){const e=document.querySelectorAll(".c-pdf-preview__embed")||[];for(let n=0;e[n];++n)t(e[n].querySelector('[data-fallback-text="true"]'))&&e[n].classList.remove("c-pdf-preview__embed--height")}),!1)}}(x);var S=x.exports,L={exports:{}};!function(e){e.exports=function(){const e="c-recommendations-list-arrow__inactive";let t=null;return{init:function(n,i){const o=document.querySelector("[data-context-bar]"),r=document.querySelector(".c-context-bar__container"),a=document.querySelector(".c-recommendations__container"),c=document.querySelector(".c-recommendations-list"),s=c.querySelectorAll(".c-recommendations-list__item"),l=document.querySelector('[data-title="References"]'),u=s.length,d=document.querySelector("[data-component-status-msg]"),p=document.createElement("button"),m=document.createElement("button");var f=!1,h=!1,b=!1,v=!1,y=0,g=0,_=0,w=[];function x(e){var t="";const n=e+3<=s.length?e+3:s.length;for(let i=e;i<n;i++){t+=s[i].querySelector(".c-card__link").getAttribute("data-track-label")+","}return t=t.replace(/,*$/,"")}function S(i){t=document.activeElement,b||(n[0].classList.remove("u-display-none"),o.setAttribute("aria-hidden",!1),u>3&&!h&&(!function(){h=!0,y=u%3==0?Math.floor(u/3):Math.floor(u/3)+1;var t=document.createElement("ul");t.setAttribute("class","c-recommendations-dots"),t.setAttribute("role","group"),t.setAttribute("aria-label","Choose slide to display");for(let e=0;e<y;e++){var n=document.createElement("li"),i=document.createElement("button");i.setAttribute("id","dots-"+e),i.setAttribute("aria-disabled","false"),0===e&&(i.setAttribute("aria-current","true"),i.setAttribute("aria-disabled","true"));var o=document.createElement("span");o.setAttribute("class","u-visually-hidden"),o.innerHTML="Go to slide "+(e+1),i.appendChild(o),n.appendChild(i),t.appendChild(n)}document.querySelector(".c-recommendations-list-container").appendChild(t),p.setAttribute("id","slide-arrow-previous"),p.setAttribute("class","c-recommendations-list-arrow c-recommendations-list-arrow__previous "+e),p.setAttribute("aria-disabled","true"),p.innerHTML="<svg class='u-icon' width='7' height='12' aria-hidden='true' focusable='false'><use xlink:href='#icon-chevron-right'></use></svg><span class='u-visually-hidden'>Previous 3 slides</span>",c.before(p),m.setAttribute("id","slide-arrow-next"),m.setAttribute("class","c-recommendations-list-arrow c-recommendations-list-arrow__next"),m.setAttribute("aria-disabled","false"),m.innerHTML="<svg class='u-icon' width='7' height='12' aria-hidden='true' focusable='false'><use xlink:href='#icon-chevron-right'></use></svg><span class='u-visually-hidden'>Next 3 slides</span>",c.parentNode.insertBefore(m,c.nextSibling);const r=document.querySelectorAll(".c-recommendations-dots button");p.addEventListener("click",(function(e){"true"===p.getAttribute("aria-disabled")||(T("left",g),q(g,"previous button"))})),m.addEventListener("click",(function(e){"true"===m.getAttribute("aria-disabled")||(T("right",g),q(g,"next button"))})),r.forEach((function(e){e.addEventListener("click",(function(t){if(!("true"===e.getAttribute("aria-disabled"))){const e=t.target.id;!function(e){const t=s[0].clientWidth;_=parseInt(e.substring(e.indexOf("-")+1)),g=3*parseInt(_);const n=t*g;c.scrollTo(n,0),C(g),E(g),k(_)}(e),q(g,e)}}))})),w=[].slice.call(a.querySelectorAll("a,button"),0)}(),A()),function(){const e=document.querySelector(".c-recommendations-close");e.focus(),e.addEventListener("click",(function(){B()})),document.addEventListener("keydown",I)}(),"refs"===i?(n[0].setAttribute("data-track-component","sticky banner - references trigger"),window.dataLayer.push({event:"display-recommendations",recommendationsTrigger:"refs-trigger",eventLabel:x(g)}),d.classList.add("u-display-none"),a.classList.add("c-recommendations-sticky")):(n[0].setAttribute("data-track-component","sticky banner - PDF trigger"),window.dataLayer.push({event:"display-recommendations",recommendationsTrigger:"sticky-pdf-trigger",eventLabel:x(g)}),r.style.setProperty("display","none"),d.classList.remove("u-display-none")),L()&&(document.querySelector("[data-component-grey-background]").style.setProperty("display","block"),n[0].classList.add("c-recommendations-visibility"),r.classList.add("c-context-bar-visibility")),b=!0),b&&"sticky-download"===i&&(r.style.setProperty("display","none"),d.classList.remove("u-display-none"),a.classList.remove("c-recommendations-sticky"))}function L(){return window.matchMedia("(max-width: 539px)").matches}function A(){if(L())f=!1,s.forEach((function(e){e.removeAttribute("aria-hidden"),e.querySelector(".c-card__link").removeAttribute("tabindex")}));else{f=!0,s.forEach((function(e){e.setAttribute("aria-hidden",!0),e.querySelector(".c-card__link").setAttribute("tabindex",-1)}));for(var e=0;e<3;e++)s[e].removeAttribute("aria-hidden"),s[e].querySelector(".c-card__link").removeAttribute("tabindex");const t=document.querySelectorAll(".c-recommendations-dots button");t.forEach((function(e){e.removeAttribute("aria-current")})),t[0].setAttribute("aria-current",!0)}}function k(e){const t=document.querySelector("#dots-"+e);document.querySelectorAll(".c-recommendations-dots button").forEach((function(e){e.removeAttribute("aria-current"),e.setAttribute("aria-disabled","false")})),t.setAttribute("aria-current",!0),t.setAttribute("aria-disabled","true")}function E(e){s.forEach((function(e){e.setAttribute("aria-hidden",!0),e.querySelector(".c-card__link").setAttribute("tabindex",-1)}));var t=0;e+3>s.length?e=(t=s.length-1)-2:t=e+2;for(var n=e;n<=t;n++)s[n].removeAttribute("aria-hidden"),s[n].querySelector(".c-card__link").removeAttribute("tabindex")}function q(e,t){!function(e,t){window.dataLayer.push({event:"recommendations-interactions",recommendationsInteraction:"interaction-trigger",eventAction:e,eventLabel:t})}("scroll recommendations - "+t,x(g))}function C(t){p.setAttribute("aria-disabled","false"),m.setAttribute("aria-disabled","false");const n=document.getElementsByClassName(e);n.length>0&&n[0].classList.remove(e),0===t&&(p.setAttribute("aria-disabled","true"),document.getElementById("slide-arrow-previous").classList.add(e)),6===t&&(m.setAttribute("aria-disabled","true"),document.getElementById("slide-arrow-next").classList.add(e))}function T(e,t){const n=s[0].clientWidth;var i=3*n;t+3>s.length&&(i=n*(3-(t+3-s.length)));"left"===e?(c.scrollLeft-=i,_>0&&(g-=3,_--)):(c.scrollLeft+=i,_<y-1&&(g+=3,_++)),C(g),E(g),k(_)}function B(){n[0].classList.add("u-display-none"),d.classList.add("u-display-none"),r.style.removeProperty("display"),b=!1,window.displayContextBar||(o.classList.add("u-hide"),o.classList.remove("c-context-bar--sticky"),o.setAttribute("aria-hidden",!0),window.forceDisplayContextBar=!1),L()&&(document.querySelector("[data-component-grey-background]").style.setProperty("display","none"),n[0].classList.remove("c-recommendations-visibility"),r.classList.remove("c-context-bar-visibility")),v?l.querySelector("a,button").focus():t&&t.focus(),document.removeEventListener("keydown",I)}function I(e){"Escape"===e.key?B():"Tab"!==e.key||e.shiftKey?"Tab"===e.key&&e.shiftKey&&document.activeElement===w[0]&&(w[w.length-1].focus(),e.preventDefault()):document.activeElement===w[w.length-1]&&(w[0].focus(),e.preventDefault())}document.querySelectorAll(".c-context-bar .c-pdf-download__link").forEach((function(e){e.addEventListener("click",(function(e){S("sticky-download")}))})),document.querySelectorAll("article .c-pdf-download__link, .c-pdf-button__container .c-pdf-download__link, .c-article-extras .c-pdf-download__link").forEach((function(e){e.addEventListener("click",(function(e){o.classList.remove("u-hide"),o.classList.add("c-context-bar--sticky"),o.setAttribute("aria-hidden",!1),window.forceDisplayContextBar=!0,S("body-download")}))})),setTimeout((function(){new IntersectionObserver((function(e){!0!==e[0].isIntersecting||v||(S("refs"),v=!0)}),{threshold:[0]}).observe(l)}),2e4),i.on("resize",(function(){b&&(L()?(A(),document.querySelector("[data-component-grey-background]").style.setProperty("display","block"),n[0].classList.add("c-recommendations-visibility"),r.classList.add("c-context-bar-visibility")):(f||A(),document.querySelector("[data-component-grey-background]").style.setProperty("display","none"),n[0].classList.remove("c-recommendations-visibility"),r.classList.remove("c-context-bar-visibility")))}))}}}}(L);var A=L.exports,k={exports:{}};!function(e){e.exports=function(){return{init:function(){var e;(e=document.querySelector(".c-article-survey--close"))&&e.addEventListener("click",(function(){document.querySelector(".c-article-survey").classList.add("c-article-survey--hide")}))}}}}(k);var E=k.exports,q={exports:{}};!function(e){e.exports=function(){return{init:function(e){const t=document.createElement("script");t.setAttribute("async",!0),t.setAttribute("src","https://www.youtube.com/iframe_api"),t.onload=function(){window.YT.ready((function(){e.forEach((function(e){var t=e.getAttribute("data-youtube-id"),n="player-"+t;new window.YT.Player(n,{height:"390",width:"640",videoId:t,playerVars:{autoplay:0},events:{onStateChange:function(e){!function(e,t){e.data==YT.PlayerState.ENDED&&window.dataLayer.push({event:"youtube-api-video",eventAction:"complete video",eventLabel:t});e.data==YT.PlayerState.PLAYING&&window.dataLayer.push({event:"youtube-api-video",eventAction:"play video",eventLabel:t});e.data==YT.PlayerState.PAUSED&&window.dataLayer.push({event:"youtube-api-video",eventAction:"pause video",eventLabel:t})}(e,t)}}})}))}))},document.head.appendChild(t)}}}}(q);var C=q.exports;const T=()=>{const e=new XMLHttpRequest;e.addEventListener("load",()=>{const t={event:"update-user-details"};let n=null;if(200===e.status)try{n=JSON.parse(e.responseText)}catch(e){console.error(e)}((e,t)=>{t.businessPartners&&(e.BPID=t.businessPartners.map(e=>e.id),e.Bpids=e.BPID.join(", "),e.user={},e.user.license={businessPartnerID:e.BPID,businessPartnerIDString:e.BPID.join("|")},e.Bpnames=t.businessPartners.map(e=>e.name).join(", ")),e.session={},e.session.authentication={},e.session.authentication.loginStatus=t.loggedIn?"Y":"N"})(t,n||{}),(e=>{const t=e.userDisplayName?" as "+e.userDisplayName:"",n=e.loggedIn?"Logged in"+t:"Not logged in",i=e.businessPartners&&e.businessPartners.length>0?e.businessPartners.map(e=>e.name+" ("+e.id+")").join(" - "):"Not affiliated",o='<p class="c-user-metadata__item"><span data-test="footer-user-login-status">'+n+"</span>"+(e.ipAddress?'<span data-test="footer-user-ip"> - '+e.ipAddress+"</span>":"")+"</p>",r='<p class="c-user-metadata__item" data-test="footer-business-partners">'+i+"</p>",a=document.querySelector("div.c-user-metadata");a&&(a.innerHTML=o+r)})(n||{}),(e=>{if(e.loggedIn){const t=encodeURIComponent(window.location.protocol+"//"+window.location.hostname+window.location.pathname+window.location.search+window.location.hash),n='<li class="c-header__item"><a class="c-header__link" data-test="institutional-login-link" href="//wayf.springernature.com?redirect_uri&#x3D;'+t+'"><span class="u-overflow-ellipsis">Access through your institution</span></a></li>',i='<li class="c-header__item"><a class="c-header__link" data-test="logout-link" href="//link.springer.com/logout?goto&#x3D;'+t+'&amp;state&#x3D;logout"><span class="u-overflow-ellipsis">Log out</span></a></li>',o='<li class="c-header__item"><ul class="c-header__menu u-js-hide" data-enhanced-account="'+(e.userDisplayName||"")+'"></ul><li class="c-header__item"><a class="c-header__link" data-test="account-details-link" href="//link.springer.com/account"><span class="u-overflow-ellipsis">My account</span></a></li>'+i+"</ul></li>",r=document.querySelector("ul.c-header__menu");r&&(r.innerHTML=n+o)}})(n||{}),window.userSessionDetailsLoaded=!0,window.dataLayer.push(t)},!1),e.open("GET","/platform/user-session-details",!0),e.send(null)},B=()=>{var t,i,a;if(function(){var e={EventEmitter:n,ShareBox:d,InternalNavigation:l,Scheduler:o,ScrollWrapper:g,BookShowMore:m,ZoomCover:v,Survey:E,Contributors:h,Boxes:c,YouTubeVideos:C};for(var t in Component=Component||{},e)Object.prototype.hasOwnProperty.call(e,t)&&(Component[t]=new e[t])}(),NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),Component.ContextBar=new w(Component.Scheduler),t=Component.EventEmitter,i={offset:32,exclude:"js-no-scroll",access:!0},Component.InternalNavigation.init(i,Component.Scheduler,t),Component.EventEmitter.on("rc.display",()=>{const e=document.querySelector("[data-component-mpu]");e&&(e.classList.remove("u-hide"),e.classList.add("u-show"))}),r().init({offset:32,exclude:"js-no-scroll",access:!0},Component.Scheduler,Component.EventEmitter),(a=document.querySelector('meta[name="access"]'))&&a.getAttribute("content")&&"yes"===a.getAttribute("content").toLowerCase()&&!window.suppressShareButton){var s=function(){var e=document.querySelector('meta[name="DOI"]');return e?e.getAttribute("content"):""}();s&&Component.ShareBox.init({url:"/article/"+s+"/share"})}Component.ScrollWrapper.init(document.querySelectorAll("[data-component-scroll-wrapper]"),e,Component.Scheduler),Component.Boxes.init(document.querySelectorAll("div[data-expandable-box-container]")),Component.Contributors.init(document.querySelectorAll('[data-component="book-contributor-list"]')),-1!==window.location.pathname.indexOf("static-article")&&T();document.querySelector('[data-component="article-survey"]')&&Component.Survey.init();const u=Array.prototype.slice.call(document.querySelectorAll('[mi24-video-player="true"]'),0);u.length>0&&((e=[])=>{new MutationObserver(()=>{e.forEach(e=>{const t=e.querySelector(".mi-big-play-cover");if(t){((e,t)=>{e.setAttribute("aria-describedby","video-description-"+t),e.setAttribute("aria-label","Play video"),e.setAttribute("role","button"),e.setAttribute("tabIndex","0"),e.addEventListener("keypress",t=>{((e,t)=>{"Enter"!==e.key&&" "!==e.key||(t&&t.removeAttribute("tabIndex"),e.currentTarget.click(),e.preventDefault())})(t,e)},!1)})(t,e.getAttribute("video-id"))}})}).observe(document,{childList:!0,subtree:!0})})(u);document.querySelector('[data-component="cover-zoom"]')&&Component.ZoomCover.init();const p=document.querySelectorAll('[data-component="data-unique-selling-points"] li'),f=document.querySelectorAll('[data-component="data-other-volumes"] li');(p&&p.length>4||f&&f.length>4)&&Component.BookShowMore.init(),S();const b=document.querySelectorAll("[data-component-recommendations]");if(b.length>0){(new A).init(b,Component.Scheduler)}const y=document.querySelectorAll("[data-component-youtube-video]");if(y.length>0){(new C).init(y)}};"loading"===document.readyState?document.addEventListener&&document.addEventListener("DOMContentLoaded",(function(){B()}),!1):B()}();

//# sourceMappingURL=global-article-es6-bundle-1051dda857.js.map
