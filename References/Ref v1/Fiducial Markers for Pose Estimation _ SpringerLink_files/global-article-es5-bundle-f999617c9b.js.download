!function(){"use strict";function p(r){let{wait:o="raf",immediate:a=!1}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const s="raf"===o;if(s||"number"==typeof o){let i;return function(){let e=this,t=arguments;var n=a&&!i;i&&(s?window.cancelAnimationFrame(i):clearTimeout(i)),i=s?window.requestAnimationFrame(()=>r.apply(e,t)):setTimeout(()=>{i=null,a||r.apply(e,t)},o),n&&r.apply(e,t)}}}var t={exports:{}};function n(){this.listeners={}}e=t,n.prototype={on:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({fn:t,scope:n||null})},off:function(e,t){if(!this.listeners[e])return!1;t||(this.listeners[e]=[]);for(var n=this.listeners[e].length;n--;)this.listeners[e][n].fn===t&&this.listeners[e].splice(n,1);return this.listeners[e].length||(this.listeners[e]=null),!0},emit:function(e){for(var t=this.listeners[e]||[],n=[].slice.call(arguments,1),i=0;t[i];++i)t[i].fn.apply(t[i].scope,n)}},e.exports=n;var o,a,s,c,l,u,m=t.exports;function i(){return u}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function b(e){return{ev:(e=e.split("."))[0],ns:e[1]||null}}function v(e,t){for(var n=[],i=0;e[i];++i)t(e[i])||n.push(e[i]);return n}o=window,a={},s={},c={},l={},u={on:function(e,t,n){for(var i=e.split(/\s+/),r=0;i[r];++r)"complete"===o.document.readyState&&i[r].match(/^load(\.|$)/)?function(e,t,n){o.requestAnimationFrame(function(){t.call(n||null,{type:e})})}("load",t,n):function(e,t,n){var e=b(e),i=e.ev,e=e.ns;c[i]||(l[i]=function(e){u.notify(i,e)},o.addEventListener(i,l[i],!1),c[i]=!0),s[i]||(s[i]=[]),s[i].push({fn:t,ns:e,scope:n||null})}(i[r],t,n)},off:function(e,t){for(var n=e.split(/\s+/),i=0,r=0;n[r];++r)i+=function(e,t){var e=b(e),n=e.ev,i=e.ns;return!!s[n]&&(s[n]=i&&t?v(s[n],function(e){return e.ns===i&&e.fn===t}):i?v(s[n],function(e){return e.ns===i}):t?v(s[n],function(e){return e.fn===t}):[],0<!s[n].length&&(s[n]=null),!0)}(n[r],t)?1:0;return i},reset:function(){for(var e in c)r(c,e)&&o.removeEventListener(e,l[e],!1);for(e in a)r(a,e)&&a[e]&&o.cancelAnimationFrame(a[e]);s={},a={},c={},l={}},notify:function(i,r){!a[i]&&s[i]&&(a[i]=o.requestAnimationFrame(function(){for(var e=r,t=s[i]||[],n=0;t[n];++n)t[n].fn.call(t[n].scope,e);a[i]=!1}))}};var y=i,g=()=>{var s,c,l="c-reading-companion",a="--active",e=l+"__section-item",f=e+a,b="--stuck",v=l+"__sticky",t="rc-sec-",r="rc-",y="rc-",o="data-tab-target",g="data-component",_="aria-selected",S="aria-controls",u="tabindex",d="data-src",w="data-srcset",L="data-component-mpu",A=!1,p=!1,m=0;function h(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))}function k(e){var t,n;this.html=e.querySelector("a")?(t=e.innerHTML,(n=document.createElement("div")).innerHTML=t,h(n,"a").forEach(function(e){var t=document.createElement("span");-1!==e.href.indexOf("#Fn")&&t.classList.add("u-visually-hidden"),t.innerHTML=e.innerHTML,e.parentNode.replaceChild(t,e)}),n.innerHTML):e.innerHTML,this.text=e.textContent.replace(/[^a-z0-9\s]/gi,""),this.id=e.id}function E(e,t){var n=e.querySelector(".c-article-supplementary__title a");n?(this.id=e.id,this.caption=n.innerHTML,this.link=n.href,this.images=[this.placeholderFor(n,t)]):(this.id=(e.querySelector(".c-article-section__figure-caption")||{id:null}).id,this.caption=(e.querySelector("figcaption > b")||{innerHTML:"Figure"}).innerHTML,this.link=(e.querySelector(".c-article__pill-button")||{href:null}).href,this.images=this.findImages(e,t))}function q(e){var t=e.querySelector(".c-article-references__text");this.id=t.id,this.num=e.parentElement.querySelector(".c-article-references__item").dataset.counter||"",this.citation=t.innerHTML,this.links=this.findLinks(e)}function n(e){this.href=e.href,this.text=e.textContent,this.label=e.getAttribute("data-track-label")||"link",this.action=this.text.trim().toLowerCase()}function x(e){return document.getElementById(t+e)}function C(e,t){var n=l+"--highlighted",i="animationend";t&&(T(e),t.setAttribute(u,"-1"),t.focus(),t.classList.add(n),t.addEventListener(i,function e(){t.classList.remove(n),t.removeEventListener(i,e)}),t.scrollIntoView({block:"start"}))}function T(e,t){var n,i,e=s.querySelector("."+l+"__"+e),r=s.querySelector("."+l+"__panel"+a);e&&r&&(n=e.querySelector("img["+d+"]"),i=s.querySelector("button["+S+"="+e.id+"]"),n&&h(e,"picture").forEach(function(e){var t=e.querySelector("source"),e=e.querySelector("img");t.srcset=t.getAttribute(w),t.removeAttribute(w),e.src=e.getAttribute(d),e.removeAttribute(d)}),r&&((n=s.querySelector("button["+S+"="+r.id+"]")).setAttribute(_,"false"),n.setAttribute(u,"-1"),n.classList.remove(l+"__tab"+a),r.classList.remove(l+"__panel"+a),r.removeAttribute(u)),i.setAttribute(_,"true"),i.removeAttribute(u),i.classList.add(l+"__tab"+a),e.classList.add(l+"__panel"+a),t&&t.focus&&i.focus(),window.requestAnimationFrame(I))}function i(){const e=s.querySelector("."+l+"__panel"+a),t=e.querySelector("."+l+"__scroll-pane");var n=e.querySelector("["+L+"]"),i=n?function(e){var t=e.offsetHeight;const n=window.getComputedStyle(e);return["top","bottom"].map(e=>parseInt(n["margin-".concat(e)],10)).reduce((e,t)=>e+t,t)}(n):0,r=c?m+(c.offsetHeight+8):m,o=t.getBoundingClientRect().top+m+i,r=t.offsetTop+r+i,i=window.innerHeight<=560;return!1===p&&420<=o&&n?"auto":window.innerHeight>o&&300<=window.innerHeight-o||p||i?o:r}function B(){const e=s.querySelector("."+l+"__panel"+a),t=e.querySelector("."+l+"__scroll-pane");var n=i();t.style.maxHeight="auto"!==n?window.innerHeight-n+"px":"none"}function I(){var e=document.querySelector("div["+g+"=article-container]"),t=c?m+(c.offsetHeight+8):m,n=s.parentNode.getBoundingClientRect().top<=t,i=s.offsetHeight,e=e.getBoundingClientRect().bottom-document.documentElement.clientTop-(i+t),i=v+b,r=s.classList,o=(p=r.contains(i),0<s.getBoundingClientRect().width);!p&&n&&o?(r.add(i),p=!0):p&&!n&&o&&(r.remove(i),p=!1),p&&o&&(s.style.width=s.parentNode.getBoundingClientRect().width+"px"),e<=0?s.style.top=e+t+"px":(s.style.top=t+"px",B())}function H(e,t){if(s.querySelector("."+l+"__sections-list")){const a=s.querySelector("."+l+"__sections-list").parentNode;t.on("nav.section",function(e,t){var n,i,r,o,t=t&&x(t),e=e&&x(e);t&&t.classList.remove(f),e&&(e.classList.add(f),t=e,e=a,n=e.clientHeight,i=e.scrollTop+e.offsetTop,r=i+n,n/=4,o=t.offsetTop,t=o+t.clientHeight,o<i?e.scrollTop-=i-o+n:r<t&&(e.scrollTop+=t-r+n))}),t.on("nav.figure",function(e){C("figures",document.getElementById(r+e))}),t.on("nav.reference",function(e,t){var n,i,e=document.getElementById(y+e);t&&(t=t,(i=(n=e).querySelector("."+l+"__return"))&&i.parentNode.removeChild(i),(i=document.createElement("a")).href="#"+t.id,i.appendChild(document.createTextNode("Return to ref "+t.textContent+" in article")),i.className=l+"__return",i.addEventListener("click",function(){i.parentNode.removeChild(i)}),n.appendChild(i)),C("references",e)}),e.on("scroll resize orientationchange",I);t=c?m+(c.offsetHeight+8):m;window.pageYOffset>t&&window.requestAnimationFrame(I);const n=s.querySelector("."+l+"__tabs");n&&(n.addEventListener("keydown",function(e){var t,n=document.activeElement.parentNode;37===e.keyCode?t=n.previousElementSibling||s.querySelector("."+l+"__tabs > li:last-child"):39===e.keyCode&&(t=n.nextElementSibling||s.querySelector("."+l+"__tabs > li:first-child")),t&&T(t.querySelector("["+o+"]").getAttribute(o),{focus:!0})},!1),h(n,"."+l+"__tab").forEach(function(e){e.addEventListener("click",function(e){T(e.target.getAttribute(o),{focus:!0})},!1)}))}}function j(e,t){e.insertAdjacentHTML("beforebegin",t)}function M(){var e=["sections","figures","references"].map(function(e){var t,n=document.querySelector("."+l+"__"+e),i=(r=e,t=h(document,".js-"+l+"-"+e+"-item"),(i={sections:function(e){var t=[];return e.forEach(function(e){t.push(new k(e))}),0<t.length?'<ul class="'+l+'__sections-list">'+t.map(function(e){return e.render()}).join("")+"</ul>":""},figures:function(e){var n=[];return e.forEach(function(e,t){e=new E(e,t+1);e.id&&n.push(e)}),n.length?'<ul class="'+l+'__figures-list">'+n.map(function(e){return e.render()}).join("")+"</ul>":""},references:function(e){var t=[];return e.forEach(function(e){t.push(new q(e))}),t.length?'<ol class="'+l+"__references-list"+(t[0].num?" "+l+"__references-list--numeric":"")+'">'+t.map(function(e){return e.render()}).join("")+"</ol>":""}})[r]?i[r](t):""),r=(t=(r=e).charAt(0).toUpperCase()+e.substring(1),'<li role="presentation"><button '+o+'="'+r+'" role="tab" id="tab-'+r+'" '+S+'="tabpanel-'+r+'" '+_+'="false" '+u+'="-1" class="'+l+'__tab" data-track="click" data-track-action="'+r+' tab" data-track-label="tab">'+t+"</button></li>");return i&&n?(n.setAttribute("aria-labelledby","tab-"+e),n.setAttribute("role","tabpanel"),t='<div class="'+l+'__scroll-pane">'+i+"</div>",n.insertAdjacentHTML("afterbegin",t)):n&&n.parentNode.removeChild(n),!(!i||!n)&&r}).filter(function(e){return Boolean(e)}),t=s.querySelector("."+l+"__panel"),n=e.length;return 1<n?j(t,'<ul class="'+l+'__tabs" role="tablist">'+e.join("")+"</ul>"):1===n&&j(t,'<h3 class="'+l+'__heading u-font-family-sans">Sections</h3>'),n}return k.prototype.render=function(){return'<li id="'+t+this.id+'" class="'+e+'"><a href="#'+this.id+'" data-track="click" data-track-action="section anchor" data-track-label="link:'+this.text.replace(/(^\d+)/g,"")+'">'+this.html+"</a></li>"},E.prototype={findImages:function(e,t){var n=[],i=this;return h(e,"picture > img").forEach(function(e){n.push(i.placeholderFor(e,t))}),n},placeholderFor:function(e,t){var n=e.getAttribute("data-supp-info-image")||e.src,e=e.alt||"extended data figure "+t,t=r+this.id,i=-1===n.indexOf("?")?"?":"&";return["<picture>",'<source type="image/webp" '+w+'="'+n+i+'as=webp">',"<img "+d+'="'+n+'" alt="'+e+'" aria-describedby="'+t+'"/>',"</picture>"].join("")},render:function(){return['<li class="'+l+'__figure-item">',"<figure>",'<figcaption><b class="'+l+'__figure-title u-h4" id="'+r+this.id+'">'+this.caption+"</b></figcaption>",this.images.join(""),this.link||this.id?'<p class="'+l+'__figure-links">':"",this.id&&A?'<a href="#'+this.id+'" data-track="click" data-track-action="figure anchor" data-track-label="link">View in article</a>':"",this.link&&A?'<a href="'+this.link+'" class="'+l+'__figure-full-link" data-track="click" data-track-action="view figure" data-track-label="link" rel="nofollow">Full size image<svg width="16" height="16" class="u-icon"><use href="#icon-chevron-right"/></svg></a>':"",this.link||this.id?"</p>":"","</figure>","</li>"].join("")}},q.prototype.findLinks=function(e){var t=[];return h(e,".c-article-references__links a").forEach(function(e){t.push(new n(e))}),t},q.prototype.render=function(){return['<li class="'+l+'__reference-item">','<p class="'+l+'__reference-citation u-font-family-serif" id="'+y+this.id+'">'+this.citation+"</p>",0<this.links.length?'<p class="'+l+'__reference-links">'+this.links.map(function(e){return e.render()}).join("")+"</p>":"","</li>"].join("")},n.prototype.render=function(){return'<a href="'+this.href+'" data-track="click" data-track-action="'+this.action+' reference" data-track-label="'+this.label+'">'+this.text+"</a>&nbsp;"},{init:function(e,t,n){A=Boolean(e.access),m=e.offset||0;function i(e){o(e),n.emit("rc.display",!e.matches&&r)}var r=!1,o=function(e){r||e.matches||(s=document.querySelector("["+g+"=reading-companion-sticky]"))&&(c=document.querySelector("[data-context-bar]"),0!==(e=M())&&(H(t,n),1<e&&T("sections"),B(),r=!0))},e=window.matchMedia(e.matchMediaQuery||"(max-width: 1023px)");e.addListener(i),i(e)}}};function _(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const t=new MutationObserver(()=>{e.forEach(e=>{var t,n=e.querySelector(".mi-big-play-cover");n&&(e=e.getAttribute("video-id"),(t=n).setAttribute("aria-describedby","video-description-".concat(e)),t.setAttribute("aria-label","Play video"),t.setAttribute("role","button"),t.setAttribute("tabIndex","0"),t.addEventListener("keypress",e=>{S(e,t)},!1))})});t.observe(document,{childList:!0,subtree:!0})}const S=(e,t)=>{"Enter"!==e.key&&" "!==e.key||(t&&t.removeAttribute("tabIndex"),e.currentTarget.click(),e.preventDefault())};function w(){var n="data-expandable-label",r="["+n+"]",o="[data-expandable-box]",a="c-article-box--expanded",s="a[href]";function i(e,t){var n=e.querySelector(o),i=e.querySelector(r);e.querySelectorAll(s).forEach(function(e){e.setAttribute("tabIndex","0")}),t&&(n.setAttribute("tabIndex","-1"),n.focus()),n.parentNode.classList.add(a),n.style.height="auto",n.removeAttribute("aria-hidden"),i.parentNode.setAttribute("aria-expanded","true"),i.textContent="Show less",e.isOpen=!0}function c(e,t){var n=e.querySelector(o),i=e.querySelector(r);e.querySelectorAll(s).forEach(function(e){e.setAttribute("tabIndex","-1")}),n.parentNode.classList.remove(a),n.style.height="95px",n.setAttribute("aria-hidden","true"),i.parentNode.setAttribute("aria-expanded","false"),i.textContent="Show more",t&&n.scrollIntoView(),e.isOpen=!1}return{init:function(e){(e||[]).forEach(function(t){var e=['<div class="c-article-box__controls">','<div class="c-article-box__fade"></div>','<button aria-expanded="false" aria-describedby="'+t.querySelector(".js-expandable-title").id+'"><span class="c-article-box__button-text" '+n+"></span></button>","</div>"].join("");t.insertAdjacentHTML("beforeend",e),c(t),t.querySelector("button").addEventListener("click",function(){var e;((e=t).isOpen?c:i)(e,!0)},!1)}),window.addEventListener("hashchange",function(){var e=location.hash?document.querySelector(location.hash):null,e=e&&e.closest(o);e&&i(e.parentNode)})}}}var h,f,L=w;function A(){var a,s=null,c=[],e=null,i=0,l=!1,r=null;function u(){return r?i+(r.offsetHeight+8):i}function d(){h.addEventListener("scroll",function e(){h.removeEventListener("scroll",e),setTimeout(function(){h.scrollBy(0,-1*u())},1)},!1)}function o(){function n(e){return e.getBoundingClientRect().top-t}var i=h.innerHeight,t=f.documentElement.clientTop,r=null,o=u();c.forEach(function(e){var t;n(e)<=o+i/2&&(r?(t=f.getElementById(r),n(t)<=o-t.offsetHeight&&(r=e.id)):r=e.id)}),r!==e&&(s.emit("nav.section",r,e),e=r)}function p(t){function e(e){return t.nodeName.toLowerCase()===e}var n,i,r,o,a;t&&(n=t.hasAttribute("tabindex"),i=e("a")&&t.href,r=e("button"),o=e("input"),a=e("textarea"),!t.getAttribute("disabled")&&(n||i||r||o||a)||t.setAttribute("tabindex","-1"),t.focus())}function m(e){var t=null;if((t=e.target&&e.target.closest?e.target.closest("a"):t)&&t.hash&&(!a||!t.closest(a))&&t.pathname===h.location.pathname){var n=!(!(i=(n=t).hash)||function(e){return Boolean(e.closest(".c-reading-companion"))}(n))&&i.match(/#(Fig|f|sf)\d+/),i=!n&&function(e){e=e.hash;if(!e)return!1;var t=f.querySelector('div[data-container-section="references"]');return t&&Boolean(t.querySelector(e))}(t),r=t.hash.slice(1),o=f.getElementById(r);if(l&&(n||i))return n?s.emit("nav.figure",r,t):i&&s.emit("nav.reference",r,t),void e.preventDefault();s.emit("nav.anchor",r,t),p(o),d()}}return{init:function(e,t,n){r=f.querySelector("[data-context-bar]"),c=f.querySelectorAll(".js-section-title"),i=e.offset||0,a=e.exclude||"js-no-scroll",(s=n).on("rc.display",function(e){l=e}),t.on("scroll resize orientationchange",o),f.body.addEventListener("click",m,!1),h.location.hash&&d()}}}h=window,f=document;var k=A;function E(){function u(e){a=document.querySelector("."+m),b(e).then(function(e){e.url?(a.innerHTML=e.url,l(h),v()):l(t)}).catch(function(){l(t)})}function d(e){c(e,f)}function p(e){var t=window.getSelection();e?t.selectAllChildren(e):t.removeAllRanges()}function e(){s=s?(a.classList.remove(i),!1):(a.classList.add(i),!0)}var m="js-share-url",h="js-share-url-container",t="js-no-share-url-container",n="c-article-share-box",i=n+"__only-read-input--highlighted",r="u-display-none",f="u-display-block",o=null,a=null,s=!1,b=function(i){return new Promise(function(e,t){var n=new XMLHttpRequest;n.addEventListener("load",function(){n.readyState===n.DONE&&(200===n.status?e(JSON.parse(n.responseText)):t())}),n.open("GET",i),n.send()})},c=function(e,t){e=document.querySelector("."+e);e.classList.remove(r),e.classList.add(t),e.removeAttribute("hidden")},l=function(e){o.classList.add(r),o.setAttribute("hidden",""),c(e,"u-display-inline")},v=function(){document.querySelector(".js-copy-share-url").addEventListener("click",function(){p(a),e(),document.execCommand("copy"),setTimeout(e,500)})};return{init:function(e){var t=e&&e.doi?e.doi:"",e=(e&&e.url?e.url:"")+t;""!==e&&((t=document.querySelector('[data-component="share-box"]'))&&d(n),Boolean(t))&&!function(e){(o=document.querySelector(".js-get-share-url")).addEventListener("click",u.bind(this,e))}(e)}}}var q=E;function x(){var a="show all",s="data-text-expanded",n="c-book-show-more-less",c=n+"--collapsed",l="show-button-other-volumes";return{init:function(){var e,o=document.querySelector("."+n);function t(e,t,n){var i=document.createElement("span"),r=(i.textContent=" — ",i.setAttribute("aria-hidden","true"),document.createElement("button"));r.setAttribute("aria-expanded",!1),r.setAttribute("id",n),r.appendChild(document.createTextNode(e)),r.className="u-link-like",t.insertAdjacentElement("beforeend",i),t.insertAdjacentElement("beforeend",r),r.addEventListener("click",function(){var e=n,t="true"===(e=document.querySelector("[id^="+e+"]")).getAttribute("aria-expanded")||!1;e.getAttribute(s)?(e.textContent=a,o.classList.add(c),e.removeAttribute(s,"true"),e.id==l&&e.scrollIntoView({block:"center"})):(e.textContent="show less",o.classList.remove(c),e.setAttribute(s,"true")),e.setAttribute("aria-expanded",!t),e.focus()})}e=document.querySelector('[data-component="data-unique-selling-points"]'),4<document.querySelectorAll('[data-component="data-unique-selling-points"] li').length&&t(a,e,"show-button-usp"),e=document.querySelector('[data-component="data-other-volumes"]'),4<document.querySelectorAll('[data-component="data-other-volumes"] li').length&&t(a,e,l)}}}var C=x,e={exports:{}};{function T(t){for(let e=0;t[e];++e)J(t[e])}const d="aria-expanded",J=function(e){e.querySelectorAll(".u-js-hide").length&&e.insertAdjacentElement("afterend",function(i){const r=i.getAttribute("data-list-type")||"authors",o=document.createElement("button");return o.addEventListener("click",function(){var e="false"===o.getAttribute(d);const t=o.querySelector("use"),n=o.querySelector("span");o.setAttribute(d,e?"true":"false"),t&&t.setAttribute("href",e?"#icon-minus":"#icon-plus"),n&&(n.textContent=e?"Show fewer "+r:"Show "+r),i.classList.toggle("c-book-author-list--expanded")},!1),o.setAttribute(d,"false"),o.className="c-button-author-list",o.innerHTML='<svg aria-hidden="true" width="16" height="16" focusable="false" class="u-icon"><use href="#icon-plus"></use></svg><span>Show '+r+"</span>",o}(e))};e.exports=function(){return{init:T}}}var B=e.exports;function I(){var a="js-cover-image-lightbox--show",s=document.querySelector('[data-component="cover-lightbox"]');return{init:function(){function t(){s.classList.contains(a)?s.classList.remove(a):s.classList.add(a)}var n,i,e,r,o;i=document.querySelector('[data-component="cover-zoom"]'),document.querySelector('[data-component="expand-icon"]').classList.remove("u-hide"),(n=document.createElement("img")).classList.add("c-cover-image-lightbox__image"),n.alt="Book cover",n.height="1200",n.width="800",s.insertAdjacentHTML("afterbegin","<button type='button' aria-label='Close expanded book cover' data-component='close-cover-lightbox' class='js-cover-image-lightbox--close'><span aria-hidden='true'>×</span></button>"),e=i.dataset.imgSrc,r=function(e){var t;e?(e=document.createElement("picture"),t=document.createElement("source"),n.src=i.dataset.imgSrc,t.type="image/webp",t.srcset=i.dataset.imgSrc+"?as=webp",e.appendChild(t),e.appendChild(n),s.appendChild(e)):(t=document.createElement("div"),e=(e=(e=i.dataset.imgSrc).replace("cover-hires","cover")).concat(".jpg"),n.src=e,t.classList.add("c-cover-image-container"),t.insertAdjacentHTML("beforeend","<p class='c-cover-image-default'>No cover available.</p>"),t.appendChild(n),s.appendChild(t))},(o=new Image).onload=function(){r(!0)},o.onerror=function(){r(!1)},o.src=e,i.addEventListener("click",function(){event.preventDefault(),t()}),s.addEventListener("click",function(){t()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&s.classList.contains(a)&&t()})}}}var H=I;function j(){return{init:function(e,t,n){(e||[]).forEach(function(e){this.bindEvents(e,t,n)},this)},bindEvents:function(i,e,t){function n(){var e,t,n;n=(t="c-table-scroll-wrapper__fade")+"--transparent",0<(e=i).scrollWidth-(e.scrollLeft+e.clientWidth)?(e.classList.add(t),e.classList.remove(n)):e.classList.add(n)}t.on("load resize",n),i.addEventListener("scroll",e(n,{wait:100}),!1)}}}var M=j;const O={STICKY_FROM_SELECTOR:".js-context-bar-sticky-point-mobile",STICKY_FROM_DESKTOP_SELECTOR:".js-context-bar-sticky-point-desktop",COMPONENT_SELECTOR:"[data-context-bar]",HIDE_CLASS:"u-hide"},N="c-context-bar--sticky";class D{constructor(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._options=Object.assign({},O,t),this._component=document.querySelector(this._options.COMPONENT_SELECTOR),document.querySelector(".app-article-masthead")&&(this._options.STICKY_FROM_SELECTOR=this._options.STICKY_FROM_DESKTOP_SELECTOR=".c-article-header"),e&&this._component&&(this._scheduler=e,this._stickyFrom=document.querySelector(this._options.STICKY_FROM_SELECTOR),this._stickyFromDesktop=document.querySelector(this._options.STICKY_FROM_DESKTOP_SELECTOR),(this._stickyFrom||this._stickyFromDesktop)&&(this._button=this._component.querySelector(".c-pdf-download"),this._stickyPoint=0,this._init(),0<window.pageYOffset&&this._update()))}_init(){this._scheduler.on("scroll orientationchange resize",this._update.bind(this))}_handleButton(){this._button?(this._addGAButtonTracking(),this._button.querySelector("a").setAttribute("tabindex","-1")):this._component.classList.add("c-context-bar--no-button")}_preventDisplayingSmallViewport(){return window.innerWidth<211}_update(){var e=window.matchMedia("(min-width: 1023px)").matches?this._stickyFromDesktop:this._stickyFrom;e&&(this._stickyPoint=e.offsetTop-8-window.pageYOffset,this._stickyPoint<=0&&this._handleButton(),this._toggleBanner())}_addGAButtonTracking(){this._button.querySelector("a").setAttribute("data-track-label","button sticky");var e=this._button.querySelector("a").getAttribute("href").split("?")[0];this._button.querySelector("a").setAttribute("href",e+"?pdf=button%20sticky")}_toggleBanner(){var e=this._preventDisplayingSmallViewport();0<this._stickyPoint&&!e&&window.forceDisplayContextBar?(this._component.classList.remove(this._options.HIDE_CLASS),this._component.classList.add(N),this._component.setAttribute("aria-hidden",!1)):this._stickyPoint<=0&&!e?(this._component.classList.remove(this._options.HIDE_CLASS),this._component.classList.add(N),this._component.setAttribute("aria-hidden",!1),window.forceDisplayContextBar=!1,window.displayContextBar=!0):(this._component.classList.add(this._options.HIDE_CLASS),this._component.classList.remove(N),this._component.setAttribute("aria-hidden",!0),window.displayContextBar=!1)}}function P(){const i="c-pdf-preview__embed";window.addEventListener("load",function(){const t=document.querySelectorAll("."+i)||[];for(let e=0;t[e];++e)(n=t[e].querySelector('[data-fallback-text="true"]'))&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)&&t[e].classList.remove(i+"--height");var n},!1)}var F=P;function R(){const o="c-recommendations-list",j=(o,o,o+"-arrow"),M=(j,j,j+"__inactive"),O="c-recommendations-sticky",a="c-context-bar--sticky",N="c-recommendations-dots",D="c-context-bar-visibility",P="c-recommendations-visibility",F="[data-component-grey-background]",Y="slide-arrow-previous",K="slide-arrow-next";let R=null;return{init:function(c,e){const l=document.querySelector("[data-context-bar]"),u=document.querySelector(".c-context-bar__container"),y=document.querySelector(".c-recommendations__container"),d=document.querySelector("."+o),p=d.querySelectorAll(".c-recommendations-list__item"),t=document.querySelector('[data-title="References"]'),g=p.length,_=document.querySelector("[data-component-status-msg]"),m=document.createElement("button"),h=document.createElement("button");var n=!1,S=!1,w=!1,i=!1,L=0,f=0,b=0,v=[];function A(t){var n="",i=t+3<=p.length?t+3:p.length;for(let e=t;e<i;e++)n+=p[e].querySelector(".c-card__link").getAttribute("data-track-label")+",";return n=n.replace(/,*$/,"")}function r(e){if(R=document.activeElement,!w){if(c[0].classList.remove("u-display-none"),l.setAttribute("aria-hidden",!1),3<g&&!S){{S=!0,L=g%3==0?Math.floor(g/3):Math.floor(g/3)+1;var t=document.createElement("ul");t.setAttribute("class",N),t.setAttribute("role","group"),t.setAttribute("aria-label","Choose slide to display");for(let e=0;e<L;e++){var n=document.createElement("li"),i=document.createElement("button"),r=(i.setAttribute("id","dots-"+e),i.setAttribute("aria-disabled","false"),0===e&&(i.setAttribute("aria-current","true"),i.setAttribute("aria-disabled","true")),document.createElement("span"));r.setAttribute("class","u-visually-hidden"),r.innerHTML="Go to slide "+(e+1),i.appendChild(r),n.appendChild(i),t.appendChild(n)}const o=document.querySelector(".c-recommendations-list-container"),a=(o.appendChild(t),m.setAttribute("id",Y),m.setAttribute("class",j+" c-recommendations-list-arrow__previous "+M),m.setAttribute("aria-disabled","true"),m.innerHTML="<svg class='u-icon' width='7' height='12' aria-hidden='true' focusable='false'><use xlink:href='#icon-chevron-right'></use></svg><span class='u-visually-hidden'>Previous 3 slides</span>",d.before(m),h.setAttribute("id",K),h.setAttribute("class",j+" c-recommendations-list-arrow__next"),h.setAttribute("aria-disabled","false"),h.innerHTML="<svg class='u-icon' width='7' height='12' aria-hidden='true' focusable='false'><use xlink:href='#icon-chevron-right'></use></svg><span class='u-visually-hidden'>Next 3 slides</span>",d.parentNode.insertBefore(h,d.nextSibling),document.querySelectorAll("."+N+" button"));m.addEventListener("click",function(e){"true"===m.getAttribute("aria-disabled")||(B("left",f),C(0,"previous button"))}),h.addEventListener("click",function(e){"true"===h.getAttribute("aria-disabled")||(B("right",f),C(0,"next button"))}),a.forEach(function(i){i.addEventListener("click",function(e){var t,n;"true"===i.getAttribute("aria-disabled")||(e=e.target.id,t=e,n=p[0].clientWidth,b=parseInt(t.substring(t.indexOf("-")+1)),f=3*parseInt(b),t=n*f,d.scrollTo(t,0),T(f),x(f),q(b),C(0,e))})}),v=[].slice.call(y.querySelectorAll("a,button"),0)}E()}{const s=document.querySelector(".c-recommendations-close");s.focus(),s.addEventListener("click",function(){I()}),document.addEventListener("keydown",H)}"refs"===e?(c[0].setAttribute("data-track-component","sticky banner - references trigger"),window.dataLayer.push({event:"display-recommendations",recommendationsTrigger:"refs-trigger",eventLabel:A(f)}),_.classList.add("u-display-none"),y.classList.add(O)):(c[0].setAttribute("data-track-component","sticky banner - PDF trigger"),window.dataLayer.push({event:"display-recommendations",recommendationsTrigger:"sticky-pdf-trigger",eventLabel:A(f)}),u.style.setProperty("display","none"),_.classList.remove("u-display-none")),k()&&(document.querySelector(F).style.setProperty("display","block"),c[0].classList.add(P),u.classList.add(D)),w=!0}w&&"sticky-download"===e&&(u.style.setProperty("display","none"),_.classList.remove("u-display-none"),y.classList.remove(O))}function k(){return window.matchMedia("(max-width: 539px)").matches}function E(){if(k())n=!1,p.forEach(function(e){e.removeAttribute("aria-hidden"),e.querySelector(".c-card__link").removeAttribute("tabindex")});else{n=!0,p.forEach(function(e){e.setAttribute("aria-hidden",!0),e.querySelector(".c-card__link").setAttribute("tabindex",-1)});for(var e=0;e<3;e++)p[e].removeAttribute("aria-hidden"),p[e].querySelector(".c-card__link").removeAttribute("tabindex");const t=document.querySelectorAll("."+N+" button");t.forEach(function(e){e.removeAttribute("aria-current")}),t[0].setAttribute("aria-current",!0)}}function q(e){const t=document.querySelector("#dots-"+e);document.querySelectorAll("."+N+" button").forEach(function(e){e.removeAttribute("aria-current"),e.setAttribute("aria-disabled","false")}),t.setAttribute("aria-current",!0),t.setAttribute("aria-disabled","true")}function x(e){p.forEach(function(e){e.setAttribute("aria-hidden",!0),e.querySelector(".c-card__link").setAttribute("tabindex",-1)});var t=0;e+3>p.length?e=(t=p.length-1)-2:t=e+2;for(var n=e;n<=t;n++)p[n].removeAttribute("aria-hidden"),p[n].querySelector(".c-card__link").removeAttribute("tabindex")}function C(e,t){var t="scroll recommendations - "+t,n=A(f);window.dataLayer.push({event:"recommendations-interactions",recommendationsInteraction:"interaction-trigger",eventAction:t,eventLabel:n})}function T(e){m.setAttribute("aria-disabled","false"),h.setAttribute("aria-disabled","false");const t=document.getElementsByClassName(M);0<t.length&&t[0].classList.remove(M),0===e&&(m.setAttribute("aria-disabled","true"),document.getElementById(Y).classList.add(M)),6===e&&(h.setAttribute("aria-disabled","true"),document.getElementById(K).classList.add(M))}function B(e,t){var n=p[0].clientWidth,i=3*n;t+3>p.length&&(i=n*(3-(t+3-p.length))),"left"===e?(d.scrollLeft-=i,0<b&&(f-=3,b--)):(d.scrollLeft+=i,b<L-1&&(f+=3,b++)),T(f),x(f),q(b)}function I(){c[0].classList.add("u-display-none"),_.classList.add("u-display-none"),u.style.removeProperty("display"),w=!1,window.displayContextBar||(l.classList.add("u-hide"),l.classList.remove(a),l.setAttribute("aria-hidden",!0),window.forceDisplayContextBar=!1),k()&&(document.querySelector(F).style.setProperty("display","none"),c[0].classList.remove(P),u.classList.remove(D)),i?t.querySelector("a,button").focus():R&&R.focus(),document.removeEventListener("keydown",H)}function H(e){"Escape"===e.key?I():"Tab"!==e.key||e.shiftKey?"Tab"===e.key&&e.shiftKey&&document.activeElement===v[0]&&(v[v.length-1].focus(),e.preventDefault()):document.activeElement===v[v.length-1]&&(v[0].focus(),e.preventDefault())}document.querySelectorAll(".c-context-bar .c-pdf-download__link").forEach(function(e){e.addEventListener("click",function(e){r("sticky-download")})}),document.querySelectorAll("article .c-pdf-download__link, .c-pdf-button__container .c-pdf-download__link, .c-article-extras .c-pdf-download__link").forEach(function(e){e.addEventListener("click",function(e){l.classList.remove("u-hide"),l.classList.add(a),l.setAttribute("aria-hidden",!1),window.forceDisplayContextBar=!0,r("body-download")})}),setTimeout(function(){new IntersectionObserver(function(e){!0!==e[0].isIntersecting||i||(r("refs"),i=!0)},{threshold:[0]}).observe(t)},2e4),e.on("resize",function(){w&&(k()?(E(),document.querySelector(F).style.setProperty("display","block"),c[0].classList.add(P),u.classList.add(D)):(n||E(),document.querySelector(F).style.setProperty("display","none"),c[0].classList.remove(P),u.classList.remove(D)))})}}}var Y=R;function K(){var t="c-article-survey";return{init:function(){var e;(e=document.querySelector(".c-article-survey--close"))&&e.addEventListener("click",function(){document.querySelector("."+t).classList.add("c-article-survey--hide")})}}}var z=K;function V(){return{init:function(e){const t=document.createElement("script");t.setAttribute("async",!0),t.setAttribute("src","https://www.youtube.com/iframe_api"),t.onload=function(){window.YT.ready(function(){e.forEach(function(e){var n=e.getAttribute("data-youtube-id");new window.YT.Player("player-"+n,{height:"390",width:"640",videoId:n,playerVars:{autoplay:0},events:{onStateChange:function(e){var t=n;e.data==YT.PlayerState.ENDED&&window.dataLayer.push({event:"youtube-api-video",eventAction:"complete video",eventLabel:t}),e.data==YT.PlayerState.PLAYING&&window.dataLayer.push({event:"youtube-api-video",eventAction:"play video",eventLabel:t}),e.data==YT.PlayerState.PAUSED&&window.dataLayer.push({event:"youtube-api-video",eventAction:"pause video",eventLabel:t})}}})})})},document.head.appendChild(t)}}}var W=V;const G=()=>{const s=new XMLHttpRequest;s.addEventListener("load",()=>{var e={event:"update-user-details"};let t=null;if(200===s.status)try{t=JSON.parse(s.responseText)}catch(e){console.error(e)}n=e,(i=t||{}).businessPartners&&(n.BPID=i.businessPartners.map(e=>e.id),n.Bpids=n.BPID.join(", "),n.user={},n.user.license={businessPartnerID:n.BPID,businessPartnerIDString:n.BPID.join("|")},n.Bpnames=i.businessPartners.map(e=>e.name).join(", ")),n.session={},n.session.authentication={},n.session.authentication.loginStatus=i.loggedIn?"Y":"N";{var n,i=(n=t||{}).userDisplayName?" as "+n.userDisplayName:"",i=n.loggedIn?"Logged in"+i:"Not logged in",r=n.businessPartners&&0<n.businessPartners.length?n.businessPartners.map(e=>e.name+" ("+e.id+")").join(" - "):"Not affiliated",i='<p class="c-user-metadata__item"><span data-test="footer-user-login-status">'+i+"</span>"+(n.ipAddress?'<span data-test="footer-user-ip"> - '+n.ipAddress+"</span>":"")+"</p>",n='<p class="c-user-metadata__item" data-test="footer-business-partners">'+r+"</p>";const o=document.querySelector("div.c-user-metadata");o&&(o.innerHTML=i+n)}if((r=t||{}).loggedIn){i=encodeURIComponent(window.location.protocol+"//"+window.location.hostname+window.location.pathname+window.location.search+window.location.hash),n='<li class="c-header__item"><a class="c-header__link" data-test="institutional-login-link" href="//wayf.springernature.com?redirect_uri&#x3D;'+i+'"><span class="u-overflow-ellipsis">Access through your institution</span></a></li>',r='<li class="c-header__item"><ul class="c-header__menu u-js-hide" data-enhanced-account="'+(r.userDisplayName||"")+'"></ul><li class="c-header__item"><a class="c-header__link" data-test="account-details-link" href="//link.springer.com/account"><span class="u-overflow-ellipsis">My account</span></a></li>'+('<li class="c-header__item"><a class="c-header__link" data-test="logout-link" href="//link.springer.com/logout?goto&#x3D;'+i+'&amp;state&#x3D;logout"><span class="u-overflow-ellipsis">Log out</span></a></li>')+"</ul></li>";const a=document.querySelector("ul.c-header__menu");a&&(a.innerHTML=n+r)}window.userSessionDetailsLoaded=!0,window.dataLayer.push(e)},!1),s.open("GET","/platform/user-session-details",!0),s.send(null)},U={init:()=>{var e,t={EventEmitter:m,ShareBox:q,InternalNavigation:k,Scheduler:y,ScrollWrapper:M,BookShowMore:C,ZoomCover:H,Survey:z,Contributors:B,Boxes:L,YouTubeVideos:W};for(e in Component=Component||{},t)Object.prototype.hasOwnProperty.call(t,e)&&(Component[e]=new t[e]);NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),Component.ContextBar=new D(Component.Scheduler),i=Component.EventEmitter,n={offset:32,exclude:"js-no-scroll",access:!0},Component.InternalNavigation.init(n,Component.Scheduler,i),Component.EventEmitter.on("rc.display",()=>{const e=document.querySelector("[data-component-mpu]");e&&(e.classList.remove("u-hide"),e.classList.add("u-show"))}),g().init({offset:32,exclude:"js-no-scroll",access:!0},Component.Scheduler,Component.EventEmitter),(n=document.querySelector('meta[name="access"]'))&&n.getAttribute("content")&&"yes"===n.getAttribute("content").toLowerCase()&&!window.suppressShareButton&&(r=(i=document.querySelector('meta[name="DOI"]'))?i.getAttribute("content"):"")&&Component.ShareBox.init({url:"/article/"+r+"/share"}),Component.ScrollWrapper.init(document.querySelectorAll("[data-component-scroll-wrapper]"),p,Component.Scheduler),Component.Boxes.init(document.querySelectorAll("div[data-expandable-box-container]")),Component.Contributors.init(document.querySelectorAll('[data-component="book-contributor-list"]')),-1!==window.location.pathname.indexOf("static-article")&&G();document.querySelector('[data-component="article-survey"]')&&Component.Survey.init();var n=Array.prototype.slice.call(document.querySelectorAll('[mi24-video-player="true"]'),0),i=(0<n.length&&_(n),document.querySelector('[data-component="cover-zoom"]')),r=(i&&Component.ZoomCover.init(),document.querySelectorAll('[data-component="data-unique-selling-points"] li')),n=document.querySelectorAll('[data-component="data-other-volumes"] li'),i=((r&&4<r.length||n&&4<n.length)&&Component.BookShowMore.init(),F(),document.querySelectorAll("[data-component-recommendations]"));if(0<i.length){const o=new Y;o.init(i,Component.Scheduler)}r=document.querySelectorAll("[data-component-youtube-video]");if(0<r.length){const a=new W;a.init(r)}}};"loading"===document.readyState?document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){U.init()},!1):U.init()}();

//# sourceMappingURL=global-article-es5-bundle-f999617c9b.js.map
